{
  "route": "framework/user/en/bench/frappe-commands",
  "sourceUrl": "https://docs.frappe.io/framework/user/en/bench/frappe-commands",
  "title": "frappe-commands",
  "content": "The Bench CLI utilizes the modulefrappe.utils.bench_manager to get the framework's as well as any other Application's commands present on the current bench directory.\n\nThis page is concerned only with the commands that exist in the Frappe project, that are a direct part of the CLI tool. These commands are defined under the frappe/frappe.\n\n For references of any Bench commands, checkout Bench Commands.\n\nThere are four major command types in Frappe inherited by Bench during command executions. They can be broadly grouped into\n\nSite Commands\n\nSet of commands used for site-specific operations. These are the most frequented commands to alter the state of your sites. These commands are accessed by using the --site option along with the site name (or \"all\") if you wish to run the operation (if possible) for all sites on the bench. These commands are defined under the module frappe.commands.site.\n\nSite Creation\n\nCreate a new Site on your bench. By default, all sites created on your bench will have only the Frappe Framework installed on them.\n\nbench new-site {site}\n\nFor more information and examples, see the bench new-site reference.\n\nSite Backups\n\nYou can use the Bench CLI to take backups on the sites of your bench. You can manage the site's database and files backups and have more control over the operation.\n\nbench --site {site} backup\n\nThe Bench CLI also deletes the older backup files from your bench directory. By default, it deletes backups older than 24 hours from the backups directory.\n\nFor more information and examples, see the bench backup reference.\n\nSite Restores\n\nBench CLI can be used to restore an existing site to a previous state. Using the bench restore command, a site may be restored with the specific database and file restores.\n\nbench --site {site} restore {path/to/database/file}\n\nThe least requirement for performing a restore operation is having the database file on your local filesystem. The specified backup file may have the sql.gz of sql extension.\n\nFor more information and examples, see the bench restore reference.\n\nPartial Site Restores and Backups\n\nSince Version 13, Frappe has support for taking partial backups and restoring them. Partial backups can be taken using the bench backup command directly. As for partial restores, the bench partial-restore command may be used to restore the partial backups to an existing site.\n\nFor more information and examples, see the bench partial-restore and bench backup reference.\n\nSite App Management\n\nYou can install or uninstall Frappe Applications available on your Bench. To add Apps to your bench using bench get-app checkout the docs.\n\nApp Installation\n\nThe easiest way to install a Frappe Application on your site is through the Bench CLI. However, the application must be installed on your bench prior to that.\n\nbench --site {site} install-app {app}\n\nIn this operation, Application meta, modules and doctypes of the specified site are installed on the specified site.\n\nApp Uninstallation\n\nUninstall an app installed on site. This is a destructive action and consists of removing all app-related data from the site. Hence, a backup is taken before uninstalling said app.\n\nbench --site {site} uninstall-app {app}\n\n Note: From Version 13, even apps not installed on the Bench can be uninstalled from the site.\n\nFor more information and examples, see the bench uninstall-app reference.\n\nSite Migrations\n\nRun patches, sync schema and rebuild files, translations and indexes on a particular site. Find out how site migrations work in the docs.\n\nbench --site {site} migrate\n\nFor more information and examples, see the bench migrate reference.\n\nSite Deletion\n\nDrops the database and moves the site directory from ./sites to the ./archived_sites (unless specified otherwise) folder on your Bench.\n\nbench drop-site {site}\n\nFor more information and examples, see the bench drop-site reference.\n\nReset Site Data\n\nRe-install all installed Applications from your specified site. This completely resets the site.\n\nbench reinstall {site}\n\nFor more information and examples, see the bench reinstall reference.\n\nList Installed Apps\n\nList all the Frappe Applications installed on the specified site. The information shown by the command is fetched from the Installed Applications DocType which tracks the latest version of the apps, the site was migrated to. The global default installed_apps is used as fallback.\n\nbench --site {site} list-apps\n\nMulti-site support has been added in Version 13. To see the summary for all sites, run the command with site's value as all.\n\nFor more information and examples, see the bench list-apps reference.\n\nSetting the default site\n\nSometimes typing --site [sitename] for every site command can be tedious. You can set the default site for the terminal session by setting the FRAPPE_SITE environment variable.\n\n~/frappe-bench\n❯ export FRAPPE_SITE=mysite.localhost\n\n~/frappe-bench\n❯ echo $FRAPPE_SITE\nmysite.localhost\n\n~/frappe-bench\n❯ bench console\nApps in this namespace:\nfrappe\n\nIn [1]: frappe.local.site\nOut[1]: 'mysite.localhost'\n\nAccess site in the browser\n\nTo access a site in the browser, you have to remember the webserver port on which bench is running and then type out the full URL. There is a bench command that does this for you.\n\nRunning the following command will open the site url directly in your default browser.\n\n# open site.local in the browser\n$ bench --site site.local browse\n\n# this also works\n$ bench browse site.local\n\nYou can also login as a user by passing --user option.\n\n$ bench --site site.local browse --user test@example.com\n\n$ bench --site site.local browse --user Administrator\nLogin URL: http://site.local:8000/app?sid=<generated-sid>\n\n Note that this command:\n \n \n Allows login as any user only when developer_mode is set to 1\n Allows login as Administrator regardless of developer_mode\n Prints the login URL only when user is Administrator\n \n\nSite Operations, Debugging and Development\n\nHere are some operations you can perform on your site via the Bench CLI to update your site state. You may never have to use some of these, but they exist just in case.\n\nadd-system-manager: Add a new system manager to a site.\nadd-user: Add a new User with specific roles to a site.\nadd-to-hosts: Add the specified site to the hosts file on your system.\nbuild-search-index: Builds search index for Websites. Refer to Full Text Search API Docs for more information.\ndisable-user: Disable user on site.\npublish-realtime: Publish realtime event from bench.\nreload-doc: Reload schema for a particular Doctype and refresh the specified Document\nreload-doctype: Reload schema for a particular DocType\nremove-from-installed-apps: Removes the mentioned app from the site global value of installed_applications.\nrun-patch: Run a particular patch via the Frappe Patch Handler.\n\nexecute: This allows to run one-off Python statements\n bench --site erpnext.site run-patch 'execute:frappe.db.set_value(\"User\", frappe.session.user, \"default_app\", \"frappe\")'\n\nmigrate-to: Command to migrate your local site to a Frappe Hosting Provider's service.\nngrok: Create a temporary URL and share it with anyone, and they can access your local site in their browser. Primarily built for aiding with the development of third party services.\nset-password: Set the password for any user.\nset-admin-password: Set the password for the Administrator user.\nset-last-active-for-user: Set users last active date to current datetime.\nstart-recording: Starts the Frappe Recorder for the specified sites.\nstop-recording: Terminates the Frappe Recorder for the specified sites.\nuse: Sets the default site on the bench.\n\nDatabase Maintenance Commands\n\nSet of commands that are related to database management and maintenance. These commands offer more control to your site's database. You may want to fine-tune your deployment to fit your site's needs over time.\n\nTable Transformations\n\nThe transform-database command allows you to manage the settings of your site's tables. At this point, you can switch engine and row_format settings for select tables on your site database.\n\nbench --site {site} transform-database --tables {tables}\n\nFor more information and examples, see the bench transform-database reference.\n\nTable Trimming\n\nDocfields removed from a particular DocType may not be deleted from their Database tables. This is by design to prevent premature data loss in Frappe. This won't be problematic for the most part, however, at some point you may face issues due to this lingering data.\n\nSome benefits of regular table trimming are:\n\nSmaller backup sizes\nReduced time taken to backup sites\nReduced Site Database Usages\nOptimized queries in case of SELECT *\nDatabase is clean and doesn't have anything hidden or redundant data\n\nbench trim-tables [OPTIONS]\n\nFor more information and examples, see the bench trim-tables reference.\n\nDatabase Trimming\n\nDeleting DocTypes from the list view may not delete their corresponding tables from the database. Migrations may leave ghost tables in your Site Database at times. This may be done for the sake of redundancy, for recovery in case your data is corrupted or lost, or simply, in cases of human error.\n\nbench trim-database [OPTIONS]\n\nFor more information and examples, see the bench trim-database reference.\n\nScheduler Commands\n\nCommands to manage and review the scheduler and background jobs' statuses for the sites on your bench. Defined under module frappe.commands.schedule.\n\ndisable-scheduler: Disable scheduler for specified sites.\ndoctor: Get diagnostic info about the status of the scheduler for all sites (if unspecified) and active workers on bench.\nenable-scheduler: Enables scheduler for specified sites.\npurge-jobs: Purge any pending periodic tasks, if the event option is not given, it will purge everything for the site.\nready-for-migration: Checks if a particular site is ready for migration by checking the existence of any pending background jobs.\nscheduler: Change the state of the scheduler for any site from pause, resume, disable or enable state.\nset-maintenance-mode: Set the value for maintenance mode in the config for specified sites.\nshow-pending-jobs: Get diagnostic info about background jobs.\nschedule: Start the scheduler process for your bench. This process manages scheduler events defined in the hooks.py file. You can find this command mentioned in the bench config for your process manager too.\nworker: Start worker process on your bench. The process this starts will manage all background jobs started on this bench.\ntrigger-scheduler-event: Trigger a specific scheduler event for the specified sites.\n\nFrappe Utility Commands\n\nFrappe Utility commands that can be both, site or bench specific. These commands are defined under the module frappe.commands.utils.\n\nDisplaying Site Config\n\nThe applied configuration for your sites gets applied as a combination of the bench directory's common_site_config.json and the site's own site_config.json. You can read more about this, here. Bench provides an interface to view the applied frappe.conf values for your sites. You may choose to access this information in tabular or JSON formats.\n\nbench --site {site} show-config\n\nFor more information and examples, see the bench show-config reference.\n\nUpdating Site Config\n\nBench provides a wrapper command to insert or update values in the site config files. You can update values in your site's site_config.json, along with the bench directory's common_site_config.json through the same command.\n\nbench --site {site} set-config KEY VALUE\n\nFor more information and examples, see the bench set-config reference.\n\nDisplay Version Of Installed Apps\n\nThe version command displays all installed apps and their versions.\n\nbench version [OPTIONS]\n\nWith version 13, the -f / --format option was introduced. This option allows you to display additional information about the branch and last commit. For more information and examples, see the bench version reference.\n\nMore Commands\n\nadd-to-email-queue: Add an email to the Email Queue.\nbuild: Builds assets for the Frappe Applications installed on bench.\nbulk-rename: Rename multiple records via a CSV file. Example File Format (Without Header):\n\n Old Name\n New Name\n Merge\n\n HR-EMP-00001\n EMP0001\n FALSE\n\n HR-EMP-00002\n EMP0002\n FALSE\n\n HR-EMP-00003\n EMP0003\n FALSE\n\n HR-EMP-00004\n EMP0004\n FALSE\n\n HR-EMP-00005\n EMP0005\n FALSE\n\n HR-EMP-00006\n EMP0006\n FALSE\n\nclear-cache: Clear cache, doctype cache and defaults.\nclear-website-cache: Clear Website cache.\nconsole: Starts an IPython console for the site. Use with the --autoreload flag to reload changes to code automatically.\ndata-import: Import documents in bulk from CSV or XLSX using data import.\ndestroy-all-sessions: Clear sessions of all users (logs them out).\nexecute: Execute a particular function or method with a given set of args and kwargs.\nexport-csv: Export data import template with data for DocType.\nexport-doc: Export a single document to CSV.\nexport-fixtures: Export records from a site to your Frappe Application, as JSON files. Fixtures are defined in your app's hooks.py file.\nexport-json: Export doclist as json to the given path, use '-' as name for Singles.\nimport-csv: Import from your CSV file using data import.\nimport-doc: Import (insert/update) doclist. If the argument is a directory, all files ending with .json are imported\njupyter: Starting a Jupyter Notebook server.\nmake-app: Creates a boilerplate Frappe Application.\ndb-console: Start the interactive DB console for your site. This command is an alias over commands: mariadb, postgres\nmariadb: Start the MySQL interactive console for the mysql site.\npostgres: Start the PostgreSQL interactive console for the postgres site.\nrebuild-global-search: Setup help table in the current site (called after migrate).\nrequest: Make a request as Administrator with Arguements to a Path.\nreset-perms: Reset permissions for all DocTypes to their default settings.\nrun-tests: Run Python tests on the specified site.\nrun-parallel-tests: Run Python tests parallelly on CI.\nrun-ui-tests: Run Cypress UI tests.\nserve: Start the webserver for the bench.\nwatch: Watch and concatenate JS and CSS files as and when they change.\n\nTranslation Commands\n\nThere are two ways to manage translations. Until v15, translations are commonly based on CSV files. Starting from v16, frappe manages translations using the .po file format from GNU Gettext. Custom apps can either continue to provide CSV based translations or switch to the new format.\n\nCSV Files\n\nSet of commands to manage CSV based translation files. These commands are defined under the module frappe.commands.translate.\n\nbuild-message-files: Build message files for translation.\nget-untranslated: Get untranslated strings for language.\nmigrate-translations: Migrate target-app-specific translations from source-app to target-app\nnew-language: Create a [lang].csv file for the given application.\nupdate-translations: Update translations for set language between files.\n\nGettext / PO files\n\nSet of commands to manage Gettext based translation files. These commands are defined under the module frappe.commands.gettext.\n\ngenerate-pot-file: Generate a POT file. This is creates the base file that contains all the translatable strings of your app and serves a a template for translation files for specific languages.\ncompile-po-to-mo: Compile PO files to MO files. PO files are human-readable. In production, translations are read from MO files, where the translations are complied to an optimized binary format. This command creates MO files from your PO files (this command also triggered by bench build, for convenience).\nmigrate-csv-to-po: Migrate your app's translations from CSV files (old) to PO files (new). Please run generate-pot-file first.\nupdate-po-files: Sync the language's PO files with POT file. This way, new translatable strings are added to your PO file, where they can be translated, while outdated ones can removed. You might want to run generate-pot-file first.\ncreate-po-file: Create a new (untranslated) PO file for a new language.",
  "scrapedAt": "2025-10-22T00:04:04.294Z"
}