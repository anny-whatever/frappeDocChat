{
  "route": "framework/user/en/bench/guides/lets-encrypt-ssl-setup",
  "sourceUrl": "https://docs.frappe.io/framework/user/en/bench/guides/lets-encrypt-ssl-setup",
  "title": "Prerequisites",
  "content": "Prerequisites\n\nYou need to have a DNS Multitenant Setup\nYour site should be accessible via a valid domain\nYou need root permissions on your server\n\nNote : Let's Encrypt Certificates expire every three months\n\nUsing Bench Command\n\nJust run:\n\nsudo -H bench setup lets-encrypt [site-name]\n\nYou will be faced with several prompts, respond to them accordingly. This command will also add an entry to the crontab of the root user (this requires elevated permissions), that will attempt to renew the certificate every month.\n\nCustom Domains\n\nYou can setup Let's Encrypt for custom domains as well. Just use the --custom-domain option\n\nsudo -H bench setup lets-encrypt [site-name] --custom-domain [custom-domain]\n\nRenew Certificates\n\nTo renew certificates manually you can use:\n\nsudo bench renew-lets-encrypt\n\nManual Method\n\nDownload the appropriate Certbot-auto script into /opt\n\nhttps://certbot.eff.org/\n\nStop nginx service\n\n$ sudo service nginx stop\n\nRun Certbot\n\n$ ./opt/certbot-auto certonly --standalone\n\nAfter letsencrypt initializes, you will be prompted for some information. This exact prompts may vary depending on if you've used Let's Encrypt before, but we'll step you through the first time.\n\nAt the prompt, enter an email address that will be used for notices and lost key recovery:\n\nThen you must agree to the Let's Encrypt Subscribe Agreement. Select Agree:\n\nThen enter your domain name(s). Note that if you want a single cert to work with multiple domain names (e.g. example.com and www.example.com), be sure to include all of them:\n\nCertificate Files\n\nAfter obtaining the cert, you will have the following PEM-encoded files:\n\ncert.pem: Your domain's certificate\nchain.pem: The Let's Encrypt chain certificate\nfullchain.pem: cert.pem and chain.pem combined\nprivkey.pem: Your certificate's private key\n\nThese certificates are stored under /etc/letsencrypt/live/example.com folder\n\nConfigure the certificates for your site(s)\n\nGo to your erpnext sites site_config.json\n\n$ cd frappe-bench/sites/{{site_name}}\n\nAdd the following two lines to your site_config.json\n\n\"ssl_certificate\": \"/etc/letsencrypt/live/example.com/fullchain.pem\",\n \"ssl_certificate_key\": \"/etc/letsencrypt/live/example.com/privkey.pem\"\n\nRegenerate the nginx configuration\n\n$ bench setup nginx\n\nRestart the nginx server\n\n$ sudo service nginx restart\n\nAuto renewal (experimental)\n\nLogin as root or a user with superuser privileges, run crontab -e and enter:\n\n# renew letsencrypt certificates on 1st monday of every month and get an email if it gets executed\n MAILTO=\"mail@example.com\"\n 0 0 1-7 * * [ \"$(date '+\\%a')\" = \"Mon\" ] && sudo service nginx stop && /opt/certbot-auto renew && sudo service nginx start",
  "scrapedAt": "2025-10-22T00:04:29.963Z"
}